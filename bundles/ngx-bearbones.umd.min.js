!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-bearbones",["exports","@angular/core","@angular/common"],t):t(e["ngx-bearbones"]={},e.ng.core,e.ng.common)}(this,function(e,r,t){"use strict";var n=function(){function e(e,t){this.el=e,this.renderer=t,this.orderChanged=new r.EventEmitter}return e.prototype.ngOnInit=function(){this.options||(this.options={})},e.prototype.ngAfterContentInit=function(){this.initChildren()},e.prototype.dragstart=function(e){this.options.holdingClass!==undefined&&this.renderer.addClass(e.target,this.options.holdingClass),this.draggedItem=+e.target["bbsortable-index"],e.dataTransfer.setData("text/plain",e.target.bbvalue||null)},e.prototype.dragend=function(e){this.options.holdingClass!==undefined&&this.renderer.removeClass(e.target,this.options.holdingClass)},e.prototype.dragover=function(e){e.preventDefault()},e.prototype.dragenter=function(e){this.options.hoverClass!==undefined&&(e.target["bbsortable-name"]===this.name&&e.target["bbsortable-index"]!==this.draggedItem?this.renderer.addClass(e.target,this.options.hoverClass):this.updateDropzoneClass(e,this.options.hoverClass,!0))},e.prototype.dragleave=function(e){this.options.hoverClass!==undefined&&(e.target["bbsortable-name"]===this.name&&e.target["bbsortable-index"]!==this.draggedItem?this.renderer.removeClass(e.target,this.options.hoverClass):this.updateDropzoneClass(e,this.options.hoverClass,!1))},e.prototype.drop=function(e){e.preventDefault();var t=!1,r=e.target;if(r["bbsortable-name"]!==this.name)for(;null!==r.parentNode;){if(r.parentNode["bbsortable-name"]===this.name){r=r.parentNode,t=!0;break}r=r.parentNode}else t=!0;if(t){var n=this.draggedItem,s=r["bbsortable-index"];if(s<n)for(var o=0;o<this.el.nativeElement.children.length;o++)s<=o&&o<n&&this.renderer.setProperty(this.el.nativeElement.children[o],"bbsortable-index",o+1),o===n&&this.renderer.setProperty(this.el.nativeElement.children[o],"bbsortable-index",s);else for(o=0;o<this.el.nativeElement.children.length;o++)n<o&&o<=s&&this.renderer.setProperty(this.el.nativeElement.children[o],"bbsortable-index",o-1),o===n&&this.renderer.setProperty(this.el.nativeElement.children[o],"bbsortable-index",s);this.orderChanged.emit({draggedItem:n,newPosition:s})}},e.prototype.initChildren=function(){for(var e=0;e<this.el.nativeElement.children.length;e++)this.renderer.setProperty(this.el.nativeElement.children[e],"draggable",!0),this.renderer.setProperty(this.el.nativeElement.children[e],"bbsortable-index",e),this.renderer.setProperty(this.el.nativeElement.children[e],"bbsortable-name",this.name),this.options.restingClass&&this.renderer.addClass(this.el.nativeElement.children[e],this.options.restingClass)},e.prototype.updateDropzoneClass=function(e,t,r){for(var n=e.target.parentNode;null!==n;){if(n["bbsortable-name"]===this.name&&n["bbsortable-index"]!==this.draggedItem){r&&!n.classList.contains(t)?this.renderer.addClass(n,t):this.renderer.removeClass(n,t);break}n=n.parentNode}},e}();n.decorators=[{type:r.Directive,args:[{selector:"[bbsortable]"}]}],n.ctorParameters=function(){return[{type:r.ElementRef},{type:r.Renderer2}]},n.propDecorators={name:[{type:r.Input,args:["bbsortable"]}],options:[{type:r.Input,args:["bboptions"]}],orderChanged:[{type:r.Output}],dragstart:[{type:r.HostListener,args:["dragstart",["$event"]]}],dragend:[{type:r.HostListener,args:["dragend",["$event"]]}],dragover:[{type:r.HostListener,args:["dragover",["$event"]]}],dragenter:[{type:r.HostListener,args:["dragenter",["$event"]]}],dragleave:[{type:r.HostListener,args:["dragleave",["$event"]]}],drop:[{type:r.HostListener,args:["drop",["$event"]]}]};var s=function(){};s.decorators=[{type:r.Injectable}],s.ctorParameters=function(){return[]};var o=function(){function e(e,t,r){this.el=e,this.bbService=t,this.renderer=r}return e.prototype.ngOnInit=function(){this.bbdropzoneClass!==undefined&&this.el.nativeElement.classList.add(this.bbdropzoneClass),this.bbmodel},e.prototype.dragover=function(e){e.preventDefault()},e.prototype.dragenter=function(){this.bbdropzoneHoverClass!==undefined&&this.el.nativeElement.classList.add(this.bbdropzoneHoverClass)},e.prototype.dragleave=function(){this.bbdropzoneHoverClass!==undefined&&this.el.nativeElement.classList.remove(this.bbdropzoneHoverClass)},e.prototype.drop=function(e){console.log(e),e.preventDefault(),this.bbdropzoneHoverClass!==undefined&&(this.el.nativeElement.classList.remove(this.bbdropzoneHoverClass),this.renderer.removeChild(this.bbService.el.nativeElement.parentNode,this.bbService.el.nativeElement),this.renderer.appendChild(this.el.nativeElement,this.bbService.el.nativeElement))},e}();o.decorators=[{type:r.Directive,args:[{selector:"[bbdropzone]"}]}],o.ctorParameters=function(){return[{type:r.ElementRef},{type:s},{type:r.Renderer2}]},o.propDecorators={bbdropzoneClass:[{type:r.Input,args:["bbdropzoneClass"]}],bbdropzoneHoverClass:[{type:r.Input,args:["bbdropzoneHoverClass"]}],bbmodel:[{type:r.Input,args:["bbmodel"]}],dragover:[{type:r.HostListener,args:["dragover",["$event"]]}],dragenter:[{type:r.HostListener,args:["dragenter"]}],dragleave:[{type:r.HostListener,args:["dragleave"]}],drop:[{type:r.HostListener,args:["drop",["$event"]]}]};var a=function(){function e(e,t){this.el=e,this.bbService=t,e.nativeElement.draggable=!0,e.nativeElement.dragstart=this.dragstart,e.nativeElement.dragend=this.dragend}return e.prototype.ngOnInit=function(){this.bbdropperClass!==undefined&&this.el.nativeElement.classList.add(this.bbdropperClass)},e.prototype.dragstart=function(e){console.log(e),this.bbholdingClass!==undefined&&this.el.nativeElement.classList.add(this.bbholdingClass),e.dataTransfer.setData("text/plain",this.bbdata||null),this.bbService.el=this.el},e.prototype.dragend=function(){this.bbholdingClass!==undefined&&this.el.nativeElement.classList.remove(this.bbholdingClass)},e}();a.decorators=[{type:r.Directive,args:[{selector:"[bbdropper]"}]}],a.ctorParameters=function(){return[{type:r.ElementRef},{type:s}]},a.propDecorators={bbdropperClass:[{type:r.Input,args:["bbdropperClass"]}],bbholdingClass:[{type:r.Input,args:["bbholdingClass"]}],bbdata:[{type:r.Input,args:["bbdata"]}],dragstart:[{type:r.HostListener,args:["dragstart",["$event"]]}],dragend:[{type:r.HostListener,args:["dragend"]}]};var i=function(){};i.decorators=[{type:r.NgModule,args:[{imports:[t.CommonModule],declarations:[n,o,a],exports:[n,o,a],providers:[s]}]}],e.BearbonesModule=i,e.ɵd=a,e.ɵb=o,e.ɵa=n,e.ɵc=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-bearbones.umd.min.js.map
